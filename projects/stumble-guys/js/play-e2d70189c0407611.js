(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{5824:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/play",function(){return a(6147)}])},6147:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return C},default:function(){return E}});var s=a(5893),n=a(5152),r=a.n(n),l=a(1163),i=a(7294),c=a(7442),o=a(6549),u=a(7902),d=a(409),m=a(4027),h=a(191),x=a(3177),f=e=>{let{type:t,id:a}=e,n=(0,l.useRouter)(),r=()=>{window.ramp.que.push(()=>{window.ramp.addUnits([{type:t,selectorId:a}]).catch(e=>console.warn("Error adding units:",e)).finally(()=>window.ramp.displayUnits())})},c=()=>{var e,t,s;let n=null===(t=window.ramp)||void 0===t?void 0:null===(e=t.settings)||void 0===e?void 0:e.slots;if(!n)return;let r=null===(s=Object.entries(n).find(e=>{var t,s;let[n,r]=e;return(null===(s=r.element)||void 0===s?void 0:null===(t=s.parentElement)||void 0===t?void 0:t.id)===a}))||void 0===s?void 0:s[0];r&&window.ramp.destroyUnits([r])};return(0,i.useEffect)(()=>(r(),()=>c()),[t,a,n.pathname]),(0,s.jsx)("div",{id:a})},p=a(7743),b=a.n(p),v=a(5988),_=a.n(v),y=e=>{let{dispatch:t}=e;return(0,s.jsx)("button",{className:_().fullscreen,type:"button",onClick:t,children:(0,s.jsx)("img",{src:"/images/loader/fullscreen.svg",alt:"Fullscreen",width:37,height:37})})},g=a(7416),w=a.n(g),j=e=>{let{loadingProgression:t}=e,a=Math.round(100*t);return(0,s.jsxs)("div",{className:"".concat(w().loader," max-w-5xl"),children:[(0,s.jsx)("img",{src:"/images/loader/running-stumbler.gif",alt:"Running stumbler",width:213,height:120,className:"relative top-8 mx-auto"}),(0,s.jsxs)("div",{className:"relative my-4 flex h-9 w-full items-center gap-x-2 rounded-lg border-2 border-solid border-black bg-transparent",children:[(0,s.jsx)("div",{className:"flex h-full items-center justify-end rounded-lg bg-cover bg-no-repeat",style:{width:"".concat(a,"%"),backgroundImage:"url('/images/loader/bar.png')"}}),(0,s.jsxs)("span",{className:"".concat(a>95?"absolute right-3":""," text-border-2 mr-2 font-lilita text-xs text-orange-light"),children:[a," %"]})]})]})},k=(0,i.createContext)({});let N=r()(Promise.resolve().then(a.bind(a,7442)).then(e=>e.Unity),{loadableGenerated:{webpack:()=>[7442]},ssr:!1}),S=JSON.parse("false");var P=()=>{let e=(0,l.useRouter)(),{OS:t}=(0,m.ZP)(),a=(0,i.useMemo)(()=>t&&t!==o.Ak.DESKTOP,[t]),{gameConfig:n}=(0,i.useContext)(k),r="".concat("https://live-assets.web.stumbleguys.com","/unity/").concat(n.attributes.version,"/").concat(n.attributes.environment,"/").concat(n.attributes.hash),{country:p}=(0,i.useContext)(d.Z),v="release"===n.attributes.build_type?".unityweb":"",{unityProvider:_,isLoaded:g,loadingProgression:w,sendMessage:P,addEventListener:U,requestFullscreen:C}=(0,c.useUnityContext)({loaderUrl:"".concat(r,"/WebGL.loader.js"),dataUrl:"".concat(r,"/WebGL.data").concat(v),frameworkUrl:"".concat(r,"/WebGL.framework.js").concat(v),codeUrl:"".concat(r,"/WebGL.wasm").concat(v),streamingAssetsUrl:"".concat(r,"/StreamingAssets"),cacheControl:e=>e.match(/\.data/)||e.match(/\.bundle/)?"must-revalidate":e.match(/\.mp4/)||e.match(/\.wav/)?"immutable":"no-store",companyName:"Kitka Games",productName:"Stumble Guys",productVersion:n.attributes.version});(0,i.useEffect)(()=>{let t=e=>{e.includes("/play")||window.stop()};return e.events.on("routeChangeStart",t),()=>{e.events.off("routeChangeStart",t)}},[]),(0,i.useEffect)(()=>{t&&a&&e.push(o.RF[t])},[a,t]),(0,i.useEffect)(()=>{g&&(U("SendUnityMessage",E),P("ScopelyId","SetUnityInstanceAvailable"),P("PusherManager","SetUnityInstanceAvailable"))},[g,U]);let E=(0,i.useCallback)((e,t,a)=>{g&&P(e,t,a)},[g]),L=(0,i.useCallback)(()=>{g&&C(!0)},[g]);return(0,s.jsx)(h.Z,{title:o.H,children:(0,s.jsx)("div",{className:"".concat(b().sky),children:(0,s.jsxs)(x.Z,{classContainer:"flex-col justify-start items-center",className:"".concat(a?"pt-24":"pt-12"," pb-52 lg:pt-8 xl:pt-12 2xl:pt-16"),children:[a?(0,s.jsx)(u.Z,{showSteam:!1}):(0,s.jsxs)("div",{className:"flex w-full items-start justify-center gap-x-6",children:["US"===p&&(0,s.jsx)(f,{type:"sky_atf",id:"pwDeskSkyAtf"}),!g&&(0,s.jsx)(j,{loadingProgression:w}),(0,s.jsxs)("div",{className:"flex w-full max-w-5xl flex-col ".concat(g?"block":"hidden"),children:[(0,s.jsx)(N,{unityProvider:_,className:b().canvas}),g&&(0,s.jsx)(y,{dispatch:L})]}),"US"===p&&(0,s.jsx)(f,{type:"sky_btf",id:"pwDeskSkyBtf"})]}),S&&(0,s.jsxs)("div",{className:"".concat(g?"mt-40":"mt-14"," flex flex-col text-white"),children:[(0,s.jsxs)("pre",{children:["Base URL: ",r]}),(0,s.jsxs)("pre",{children:["Environment: ",n.attributes.environment]}),(0,s.jsxs)("pre",{children:["Version: ",n.attributes.version]}),(0,s.jsxs)("pre",{children:["Hash: ",n.attributes.hash]}),(0,s.jsxs)("pre",{children:["Server URL: ",n.attributes.server_base_url]})]})]})})})},U=e=>{let{gameConfig:t,adsConfig:a,children:n}=e,r=(0,i.useMemo)(()=>({gameConfig:t,adsConfig:a}),[t,a]);return(0,s.jsx)(k.Provider,{value:r,children:n})},C=!0,E=e=>(0,s.jsx)(U,{...e,children:(0,s.jsx)(P,{})})},7743:function(e){e.exports={sky:"Play_sky__IyYYV",canvas:"Play_canvas__OVhhV",lateralBanner:"Play_lateralBanner__071uO",lateralBannerLeft:"Play_lateralBannerLeft__P_KKk",lateralBannerRight:"Play_lateralBannerRight__P80l7"}},5988:function(e){e.exports={fullscreen:"Fullscreen_fullscreen__JcYpm"}},7416:function(e){e.exports={loader:"Loader_loader__HaiDG"}}},function(e){e.O(0,[764,900,977,328,774,888,179],function(){return e(e.s=5824)}),_N_E=e.O()}]);